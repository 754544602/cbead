var personnelFunds={init:function(){$("#addCostApplyBtn").click(function(){$("#model-add-list-btn").removeClass("update").addClass("save").text("加入到列表");sysCommon.showModel($("#cost-apply-model"))});$("#model-canel-btn").click(function(){sysCommon.closeModel($("#cost-apply-model"));sysCommon.clearFormData()});$("#model-add-list-btn").click(function(){if($(this).hasClass("save")){var trHtml='<tr><td><span class="meet-fee">150</span></td><td>XXXXX</td><td><span>XXX</span></td><td>XXXXX</td><td><span class="operate-update"><img src="../../../../../resources-sasac/images/common/edit-icon.png"/></span><span class="operate-del"><img src="../../../../../resources-sasac/images/common/del-icon.png"/></span></td></tr>';trHtml=$(trHtml);trHtml.find(".operate-del").click(function(){var thisObj=$(this);$yt_alert_Model.alertOne({alertMsg:"确定要删除此条数据吗?",leftBtnName:"确定",confirmFunction:function(){if(thisObj.parents("tbody").find("tr:not(.total-last-tr)").length==1){thisObj.parents("tbody").empty()}thisObj.parents("tr").remove();personnelFunds.updateTotalNum()}})});trHtml.find(".operate-update").click(function(){$("#model-add-list-btn").removeClass("save").addClass("update").text("保存");sysCommon.showModel($("#cost-apply-model"))});$("#traffic-list-info .yt-tbody").append(trHtml)}else{}personnelFunds.updateTotalNum();sysCommon.closeModel($("#cost-apply-model"));sysCommon.clearFormData()});$('.yt-select').niceSelect();$("#start-time").calendar({controlId:"startTime",nowData:false,upperLimit:$("#end-time"),speed:0,callback:function(){sysCommon.clearValidInfo($("#start-time"))}});$("#end-time").calendar({controlId:"endTime",nowData:false,lowerLimit:$("#start-time"),speed:0,callback:function(){sysCommon.clearValidInfo($("#end-time"))}})},updateTotalNum:function(){var fundsTotalNum=0;$(".meet-fee").each(function(){fundsTotalNum+=$yt_baseElement.rmoney($(this).text())});$("#applySumMoney").text(fundsTotalNum);var sumMoneyLower=arabiaToChinese(fundsTotalNum+"");$("#applyMoneyLower").text(sumMoneyLower)}};$(function(){personnelFunds.init()});