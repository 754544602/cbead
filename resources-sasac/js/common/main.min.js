var main={userData:{},ytAclCookieKey:'yitianSSODynamicKey',init:function(){$yt_common.getUserInfo();$(".logo-user-name").text($yt_common.user_info.userName);$(".change-password-button").click(function(){$("#change-password-box").show();$('#pop-modle-alert').show()});$("#change-password-box .alert-cancel").click(function(){$('#change-password-box').hide();$('#pop-modle-alert').hide();$("#change-password-box input").val("")});$("#change-password-box .alert-confirm").click(function(){var oldPwd=$(".login-password").val();var newPwd=$(".new-password").val();var redoNewPwd=$(".redo-new-password").val();var validOldPwdResult=main.validOldPwd();var validNewPwdResult=main.validNewPwd();var validRedoNewPwdResult=main.validRedoNewPwd();if(validOldPwdResult&&validNewPwdResult&&validRedoNewPwdResult){$.ajax({type:"post",url:"/user/userInfo/updatePassword",async:false,data:{passwordNew:newPwd,passwordOld:oldPwd},success:function(data){if(data.success=="0"){$yt_alert_Model.prompt("密码修改成功");$("#change-password-box").hide();$("#change-password-box input").val("")}else{$yt_alert_Model.prompt(data.msg)}}})}});main.toDetail();main.logout()},toDetail:function(){var pageUrl='';var goPageUrl='';$(".shortcut-div .to-class").on("click",function(){goPageUrl="website/pc/view/manage/theTrainingClass.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".shortcut-div .to-apply").on("click",function(){goPageUrl="view/system-sasac/expensesReim/module/approval/beforehandAppoveList.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".shortcut-div .to-audit").on("click",function(){goPageUrl="view/system-sasac/expensesReim/module/approval/myApplyList.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".shortcut-div .to-stat").on("click",function(){goPageUrl="view/projectManagement-sasac/expensesReim/module/approval/myApplyList.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".memu-div .to-classManagement").on("click",function(){goPageUrl="website/pc/view/manage/theTrainingClass.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".memu-div .to-report").on("click",function(){goPageUrl="website/pc/view/manage/registerClass.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".memu-div .to-attendance").on("click",function(){goPageUrl="website/pc/view/manage/attendanceManager.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".memu-div .to-charge").on("click",function(){goPageUrl="website/pc/view/manage/chargeClass.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".memu-div .to-scavenging").on("click",function(){goPageUrl="website/pc/view/manage/scanCodeManager.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".memu-div .to-ticket").on("click",function(){goPageUrl="website/pc/view/manage/invoiceClass.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".memu-div .to-teacher").on("click",function(){goPageUrl="website/pc/view/manage/lecturerManager.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".memu-div .to-curriculum").on("click",function(){goPageUrl="website/pc/view/manage/courseManager.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".memu-div .to-statistics").on("click",function(){goPageUrl="website/pc/view/manage/statisticsManger.html";pageUrl="http://peixun.yitian-tech.com/sasac-train/website/pc/index.html";window.open(pageUrl+"?pageUrl="+encodeURIComponent(goPageUrl)+'&goPageUrl='+goPageUrl)});$(".menu-finance .to-beforehand").on("click",function(){goPageUrl="view/system-sasac/expensesReim/module/busiTripApply/serveApply.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".menu-finance .to-expenditure").on("click",function(){goPageUrl="view/system-sasac/expensesReim/module/reimApply/expenseAccount.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".menu-finance .to-loan").on("click",function(){goPageUrl="view/system-sasac/expensesReim/module/loanApply/loanApply.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".menu-finance .to-budget").on("click",function(){goPageUrl="view/projectManagement-sasac/expensesReim/module/busiTripApply/serveApply.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".menu-finance .to-fianl").on("click",function(){goPageUrl="view/projectManagement-sasac/expensesReim/module/finalApply/finalAccount.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".menu-finance .to-query").on("click",function(){goPageUrl="view/projectManagement-sasac/expensesReim/module/query/trainingProQuery.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".menu-finance .to-budgeting").on("click",function(){goPageUrl="view/system-sasac/budget/module/expenditure/budgetTableManager.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".menu-finance .to-adjustment").on("click",function(){goPageUrl="view/system-sasac/budget/module/approval/budgetApproveList.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)});$(".menu-finance .to-budgetQuery").on("click",function(){goPageUrl="view/system-sasac/budget/module/expenditure/budgetExecuteQuery.html";$yt_baseElement.openNewPage(1,goPageUrl,goPageUrl)})},logout:function(){$(".logout-button").off().on("click",function(){window.location.href="http://peixun.yitian-tech.com/acl/website/acl/sso/sasacTrainLoginPC/manageLogin.html"});},validOldPwd:function(){var result=true;var oldPwd=$(".login-password").val();if(oldPwd==""||oldPwd.length>16){$(".login-password").next(".error-text").text("请输入十六位以内的原密码").show();result=false}if(result){$(".login-password").next(".error-text").hide()}return result},validNewPwd:function(){var result=true;var newPwd=$(".new-password").val();if(newPwd==""||newPwd.length>16){$(".new-password").next(".error-text").text("请输入十六位以内的新密码").show();result=false}if(result){$(".new-password").next(".error-text").hide()}return result},validRedoNewPwd:function(){var result=true;var newPwd=$(".new-password").val();var redoNewPwd=$(".redo-new-password").val();if(redoNewPwd==""||redoNewPwd.length>16){$(".redo-new-password").next(".error-text").text("请输入十六位以内的确认密码").show();result=false;return false}if(newPwd!=redoNewPwd){$(".redo-new-password").next(".error-text").text("两次新密码不一致").show();result=false}if(result){$(".redo-new-password").next(".error-text").hide()}return result}};$(function(){main.init()});