var projectList={init:function(){projectList.getPlanListInfo();$('.list-tbody').on('click','.class-name',function(){var pkId=$(this).parent().parent().find('.pkId').text();var types=$(this).parent().parent().find('.types').text();window.location.href="reviseOpenLecture.html?pkId="+pkId+"&types="+types});$('.search-btn').off().on("click",function(){projectList.getPlanListInfo();$('#keyword').val("")})},getPlanListInfo:function(){var queryParams=$('#keyword').val();$('.page-info').pageInfo({pageIndexs:1,pageNum:15,pageSize:10,url:$yt_option.base_path+"class/openHonors/lookForAllForFile",type:"post",data:{searchParameters:queryParams},before:function(){$yt_baseElement.showLoading()},success:function(data){if(data.flag==0){var htmlTbody=$('.open-class-tbody');var htmlTr='';var num=1;var xuhao=1;var states="";var type="";var isPhoto="";if(data.data.rows.length>0){$.each(data.data.rows,function(i,v){xuhao=i+1;if(v.types==1){type="开班式"}if(v.types==2){type="结业式"}if(v.isPhoto==0){isPhoto="未归档"}if(v.isPhoto==1){isPhoto="已归档"}htmlTr+='<tr class="td-list"><td class="pkId" style="display:none;">'+v.pkId+'</td><td class="types" style="display:none;">'+v.types+'</td><td class="isPhoto-hiden" style="display:none;">'+v.isPhoto+'</td><td style="text-align:center;">'+xuhao+'</td><td><a style="color:#3c4687;" class="class-name">'+v.className+'</a></td><td style="text-align:center;">'+type+'</td><td class="userName" style="text-align:center;">'+v.userName+'</td><td style="text-align:center;">'+v.startTimeString+'</td><td style="text-align:center;">'+v.createUserName+'</td><td style="text-align:center;">'+v.createTimeString+'</td><td class="isPhoto"style="text-align:center;">'+isPhoto+'</td></tr>'})}else{htmlTr+='<tr style="border:0px;background-color:#fff !important;" ><td colspan="8" align="center" style="border:0px;"><div class="no-data" style="width: 280px;margin: 0 auto;"><img src="../../resources/images/common/no-data.png" alt="" style="padding: 35px 0 20px;"></div></td></tr>';$('.page1').hide()}htmlTbody.html(htmlTr);$yt_baseElement.hideLoading()}else{$yt_baseElement.hideLoading(function(){$yt_alert_Model.prompt("查询失败")})}},isSelPageNum:true })}};$(function(){projectList.init()});