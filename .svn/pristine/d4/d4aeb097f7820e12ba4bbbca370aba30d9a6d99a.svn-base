var projectDetails = {
	//初始化方法
	init: function() {
		//调用获取列表数据方法
		projectDetails.getStudetListInfo();
		$(".settlement-tbody").on(".project-name", "click", function() {
			window.location.href = "projectSettlementList.html";
		});
		//点击学员姓名查看详情
		$('.update-details').click(function() {
			/** 
			 * 显示编辑弹出框和显示顶部隐藏蒙层 
			 */
			$(".student-details-form").show();
			/** 
			 * 调用算取div显示位置方法 
			 */
			$yt_alert_Model.setFiexBoxHeight($(".student-details-form .yt-edit-alert-main"));
			$yt_alert_Model.getDivPosition($(".student-details-form"));
			/* 
			 * 调用支持拖拽的方法 
			 */
			$yt_model_drag.modelDragEvent($(".student-details-form .yt-edit-alert-title"));
			/** 
			 * 点击确定方法
			 */
			$('.update-student-sure-btn').off().on("click", function() {
				//隐藏页面中自定义的表单内容  
				$(".student-details-form").hide();
			});
			/** 
			 * 点击取消方法 
			 */
			$('.update-student-canel-btn').off().on("click", function() {
				//隐藏页面中自定义的表单内容  
				$(".student-details-form").hide();
			});
		});
		//项目支出确定按钮
		$('.expenditure-sure-btn').click(function() {
			$yt_baseElement.showLoading();
			var costCode = "";
			var spendMoney = "";
			var details = "";
			var otherCostJsonArr = [];
			//遍历获取List<Map>对象
			$(".otherCost-tbody tr").each(function(i, n) {
				costCode = $(n).find(".costCode").text();
				spendMoney = $(n).find(".spendMoney").val();
				details = $(n).find(".details").val();
				var otherCostArr = {
					costCode: costCode,
					spendMoney: spendMoney,
					details: details
				}
				otherCostJsonArr.push(otherCostArr);
			});
			var otherCost = JSON.stringify(otherCostJsonArr);
			//执行接口方法
			$.ajax({
				type: "post",
				url: $yt_option.base_path + "finance/settlement/addExpenditure",
				data: {
					otherCost: otherCost
				},
				async: false,
				success: function(data) {
					if(data.flag == 0) {
						$yt_baseElement.hideLoading(function() {
							$yt_alert_Model.prompt("添加成功");
							projectExpenditureList.getExpenditureListInf();
						});

					} else {
						$yt_baseElement.hideLoading(function() {
							$yt_alert_Model.prompt("添加失败");
							projectExpenditureList.getExpenditureListInf();
						});
					}
				}
			});
		});
		//页签切换
		$(".tab-title-list button").click(function() {
			//var divIndex; 
			$(this).addClass("active").siblings().removeClass("active");
			$(".box-list .content-box").hide().eq($(this).index()).show();
			//班级信息页签
			if($(this).index() == 0) {
				projectDetails.getStudetListInfo();
			} else if($(this).index() == 1) {
				projectDetails.getStudentCostsList();
				projectDetails.getCheckList();
				projectDetails.getCompanyList();
				$(".project-student-tbody").on("click", ".cost-details", function() {
					//显示选择所属项目弹出框
					$(".select-teacher-div").show();
					//计算弹出框位置
					$yt_alert_Model.setFiexBoxHeight($(".select-teacher-div .yt-edit-alert-main"));
					$yt_alert_Model.getDivPosition($(".select-teacher-div"));
					$yt_model_drag.modelDragEvent($(".select-teacher-div .yt-edit-alert-title"));
					//取消按钮
					$('.select-teacher-canel-btn').click(function() {
						$(".yt-edit-alert,#heard-nav-bak").hide();
						$("#pop-modle-alert").hide();
					});
				});
			} else if($(this).index() == 2) {
				projectDetails.getIncomesList();
				projectDetails.getIncomeCostsList();
				projectDetails.getTotalList();
			} else if($(this).index() == 3) {
				projectDetails.getOtherIncomeList();
			} else if($(this).index() == 4) {
				projectDetails.getExpenditureListInf();
			}
		});
	},
	/**
	 * 获取班级信息
	 */
	getStudetListInfo: function() {
		var projectCode = $yt_common.GetQueryString("projectCode");
		//显示整体框架loading的方法
		$yt_baseElement.showLoading();
		$.ajax({
			type: "post",
			url: $yt_option.base_path + "class/getBeanByProjectCode",
			async: true,
			data: {
				projectCode: projectCode
			},
			objName: 'data',
			success: function(data) {
				if(data.flag == 0) {
					if(data.data.projectType == 1) {
						data.data.projectType = "计划";
					} else if(data.data.projectType == 2) {
						data.data.projectType = "委托";
					} else if(data.data.projectType == 3) {
						data.data.projectType = "选学";
					} else if(data.data.projectType == 4) {
						data.data.projectType = "调训";
					}
					$('.project-code').text(data.data.projectCode);
					$('.project-name').text(data.data.projectName);
					$('.project-type').text(data.data.projectType);
					$('.project-sell').text(data.data.projectSell);
					$('.start-date').text(data.data.startDate);
					$('.end-date').text(data.data.endDate);
					$('.train-date').text(data.data.trainDate);
					$('.customer-unit').text(data.data.customerUnit);
					$('.customer-dept').text(data.data.customerDept);
					$('.customer-linkman').text(data.data.customerLinkman);
					$('.customer-linkman-position').text(data.data.customerLinkmanPosition);
					$('.customer-linkman-phone').text(data.data.customerLinkmanPhone);
					$('.customer-linkman-cellphone').text(data.data.customerLinkmanCellphone);
					$('.customer-linkman-fax').text(data.data.customerLinkmanFax);
					$('.customer-linkman-email').text(data.data.customerLinkmanEmail);
					$('.customer-trainee-position').text(data.data.customerTraineePosition);
					$('.customer-trainee-sum').text(data.data.customerTraineeSum);
					$('.customer-trainee-age-structure').text(data.data.customerTraineeAgeStructure);
					$('.customer-target-demand').text(data.data.customerTargetDemand);
					$('.project-head').text(data.data.projectHead);
					$('.class-teacher').text(data.data.classTeacher);
					$('.project-aid').text(data.data.projectAid);
					$yt_baseElement.hideLoading();
				} else {
					$yt_baseElement.hideLoading(function() {
						$yt_alert_Model.prompt("查询失败");
					});
				}
			}
		});
	},
	/**
	 * 项目结算清单
	 */
	getCheckList: function() {
		$yt_baseElement.showLoading();
		var selectParam = "";
		$.ajax({
			async: true,
			url: $yt_option.base_path + "finance/reduction/lookForAllProject", //ajax访问路径  
			type: "post", //ajax访问方式 默认 "post"  
			data: {
				selectParam: selectParam
			}, //ajax查询访问参数
			objName: 'data', //指获取数据的对象名称  
			success: function(data) {
				if(data.flag == 0) {
					var htmlTbody = $('.project-check-List-tbody');
					var htmlTr = '';
					$(htmlTbody).empty()
					if(data.data.length > 0) {
						$.each(data.data, function(i, v) {
							htmlTr += '<tr>' +
								'<td>' + (i + 1) + '</td>' +
								'<td>' + "餐费" + '</td>' +
								'<td style="text-align:right;">' + "1359367" + '</td>' +
								'<td style="text-align:right;">' + "98745646" + '</td>' +
								'<td style="text-align:right;">' + "98745646" + '</td>' +
								'<td style="text-align:right;">' + "98745646" + '</td>' +
								'<td style="text-align:right;">' + "98745646" + '</td>' +
								'<td style="text-align:right;">' + "98745646" + '</td>' +
								'<td style="text-align:right;">' + "98745646" + '</td>' +
								'<td style="text-align:right;">' + "98745646" + '</td>' +
								'<td style="text-align:right;">' + "98745646" + '</td>' +
								'</tr>';
						});
						htmlTbody.html(htmlTr);
					}
					$yt_baseElement.hideLoading();
				} else {
					$yt_baseElement.hideLoading(function() {
						$yt_alert_Model.prompt("查询失败");
					});
				}

			}, //回调函数 匿名函数返回查询结果  
			isSelPageNum: true //是否显示选择条数列表默认false  

		});
	},
	/**
	 * 单位支付信息
	 */
	getCompanyList: function() {
		$yt_baseElement.showLoading();
		var selectParam = "";
		$.ajax({
			async: true,
			url: $yt_option.base_path + "finance/reduction/lookForAllProject", //ajax访问路径  
			type: "post", //ajax访问方式 默认 "post"  
			data: {
				selectParam: selectParam
			}, //ajax查询访问参数
			objName: 'data', //指获取数据的对象名称  
			success: function(data) {
				if(data.flag == 0) {
					var htmlTbody = $('.project-company-tbody');
					var htmlTr = '';
					var htmlPlan = '';
					var should = 0;
					var already = 0;
					var account = 0;
					$(htmlTbody).empty();
					if(data.data.length > 0) {
						$.each(data.data, function(i, v) {
							htmlTr += '<tr>' +
								'<td>' + "中国核工业集团公司" + '</td>' +
								'<td class="should" style="text-align:right;">' + "1000" + '</td>' +
								'<td class="already" style="text-align:right;">' + "1005" + '</td>' +
								'<td class="account" style="text-align:right;">' + "1010" + '</td>' +
								'</tr>';
							should += 1000;
							already += 1005;
							account += 1010;
						});
						htmlTbody.html(htmlTr);
						htmlPlan += '<tr>' +
							'<td style="font-weight: bold;">' + "小计" + '</td>' +
							'<td style="text-align:right;font-weight: bold;">' + should + '</td>' +
							'<td style="text-align:right;font-weight: bold;">' + already + '</td>' +
							'<td style="text-align:right;font-weight: bold;">' + account + '</td>' +
							'</tr>';
						htmlTbody.append(htmlPlan)
					}
					$yt_baseElement.hideLoading();
				} else {
					$yt_baseElement.hideLoading(function() {
						$yt_alert_Model.prompt("查询失败");
					});
				}

			}, //回调函数 匿名函数返回查询结果  
			isSelPageNum: true //是否显示选择条数列表默认false  

		});
	},
	/**
	 * 费用清单：费用详情列表
	 */
	getStudentCostsList: function() {
		var selectParam = $('.selectParam').val();
		$('.project-student-page').pageInfo({
			async: true,
			pageIndexs: 1,
			pageNum: 15, //每页显示条数  
			pageSize: 10, //显示...的规律  
			url: $yt_option.base_path + "finance/invoicing/lookForAll", //ajax访问路径  
			type: "post", //ajax访问方式 默认 "post"  
			data: {
				selectParam: selectParam
			}, //ajax查询访问参数
			before: function() {
				$yt_baseElement.showLoading();
			},
			objName: 'data', //指获取数据的对象名称  
			success: function(data) {
				if(data.flag == 0) {
					var htmlTbody = $('.project-student-tbody');
					var htmlTrSelection = '';
					var htmlTrBreak = '';
					$(htmlTbody).empty()
					if(data.data.rows.length > 0) {
						$.each(data.data.rows, function(i, v) {
							htmlTrSelection += '<tr>' +
								'<td>' + (i + 1) + '</td>' +
								'<td><a style="color: #4169E1;">' + "王如冰" + '</a></td>' +
								'<td style="text-align:left">' + "中国和工业集团公司" + '</td>' +
								'<td>' + "1359367" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "--" + '</td>' +
								'<td style="text-align:right">' + "--" + '</td>' +
								'<td style="text-align:right">' + "--" + '</td>' +
								'<td style="text-align:right">' + "100000" + '</td>' +
								'</tr>';
							htmlTrBreak += '<tr>' +
								'<td>' + (i + 1) + '</td>' +
								'<td><a style="color: #4169E1;">' + "王如冰" + '</a></td>' +
								'<td style="text-align:left">' + "中国和工业集团公司" + '</td>' +
								'<td>' + "1359367" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "100000" + '</td>' +
								'<td><a style="color: #4169E1;" class="cost-details" href="#">' + "详情" + '</a></td>' +
								'</tr>';
						});
						if(true) {
							$(".detailed-hide-break").hide();
							$(".detailed-hide-selection").show();
							htmlTbody.html(htmlTrSelection);
						} else {
							$(".detailed-hide-selection").hide();
							$(".detailed-hide-break").show();
							htmlTbody.html(htmlTrBreak);
						}
					}
					$yt_baseElement.hideLoading();
				} else {
					$yt_baseElement.hideLoading(function() {
						$yt_alert_Model.prompt("查询失败");
					});
				}

			}, //回调函数 匿名函数返回查询结果  
			isSelPageNum: true //是否显示选择条数列表默认false  
		});
	},
	/**
	 * 项目收入
	 */
	getIncomesList: function() {
		var selectParam = "";
		$('.project-student-page').pageInfo({
			async: true,
			pageIndexs: 1,
			pageNum: 15, //每页显示条数  
			pageSize: 10, //显示...的规律  
			url: $yt_option.base_path + "finance/invoicing/lookForAll", //ajax访问路径  
			type: "post", //ajax访问方式 默认 "post"  
			data: {
				selectParam: selectParam
			}, //ajax查询访问参数
			before: function() {
				$yt_baseElement.showLoading();
			},
			objName: 'data', //指获取数据的对象名称  
			success: function(data) {
				if(data.flag == 0) {
					var htmlTbody = $('.project-income-student-tbody');
					var htmlTr = '';
					$(htmlTbody).empty()
					if(data.data.rows.length > 0) {
						$.each(data.data.rows, function(i, v) {
							htmlTr += '<tr>' +
								'<td>' + i + '</td>' +
								'<td><a style="color: #4169E1;">' + "王如冰" + '</a></td>' +
								'<td style="text-align:left">' + "中国和工业集团公司" + '</td>' +
								'<td>' + "1359367" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "--" + '</td>' +
								'<td style="text-align:right">' + "--" + '</td>' +
								'<td style="text-align:right">' + "--" + '</td>' +
								'</tr>';
						});
						if(true) {
							$(".income-hide").show();
							htmlTbody.html(htmlTr);
						} else {
							$(".income-hide").hide();
						}
					}
					$yt_baseElement.hideLoading();
				} else {
					$yt_baseElement.hideLoading(function() {
						$yt_alert_Model.prompt("查询失败");
					});
				}

			}, //回调函数 匿名函数返回查询结果  
			isSelPageNum: true //是否显示选择条数列表默认false  
		});
	},
	/**
	 * 项目收入：费用详情列表
	 */
	getIncomeCostsList: function() {
		var selectParam = "";
		$('.project-income-page').pageInfo({
			async: true,
			pageIndexs: 1,
			pageNum: 15, //每页显示条数  
			pageSize: 10, //显示...的规律  
			url: $yt_option.base_path + "finance/invoicing/lookForAll", //ajax访问路径  
			type: "post", //ajax访问方式 默认 "post"  
			data: {
				selectParam: selectParam
			}, //ajax查询访问参数
			before: function() {
				$yt_baseElement.showLoading();
			},
			objName: 'data', //指获取数据的对象名称  
			success: function(data) {
				if(data.flag == 0) {
					var htmlTbody = $('.project-income-cost-tbody');
					var htmlTr = '';
					$(htmlTbody).empty()
					if(data.data.rows.length > 0) {
						$.each(data.data.rows, function(i, v) {
							htmlTr += '<tr>' +
								'<td>' + (i + 1) + '</td>' +
								'<td><a style="color: #4169E1;">' + "王如冰" + '</a></td>' +
								'<td style="text-align:left">' + "中国和工业集团公司" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "98745646" + '</td>' +
								'<td style="text-align:right">' + "5.0" + '</td>' +
								'<td style="text-align:right">' + "1000000" + '</td>' +
								'</tr>';
						});
					};
					htmlTbody.html(htmlTr);
					$yt_baseElement.hideLoading();
				} else {
					$yt_baseElement.hideLoading(function() {
						$yt_alert_Model.prompt("查询失败");
					});
				}

			}, //回调函数 匿名函数返回查询结果  
			isSelPageNum: true //是否显示选择条数列表默认false  
		});
	},
	/**
	 * 总计各项减免
	 */
	getTotalList: function() {
		$yt_baseElement.showLoading();
		var selectParam = "";
		$.ajax({
			async: true,
			url: $yt_option.base_path + "finance/reduction/lookForAllProject", //ajax访问路径  
			type: "post", //ajax访问方式 默认 "post"  
			data: {
				selectParam: selectParam
			}, //ajax查询访问参数
			objName: 'data', //指获取数据的对象名称  
			success: function(data) {
				if(data.flag == 0) {
					var htmlTbody = $('.project-total-cost-tbody');
					var htmlTr = '';
					$(htmlTbody).empty()
					if(data.data.length > 0) {
						$.each(data.data, function(i, v) {
							htmlTr += '<tr>' +
									'<td>' + "餐费减免" + '</td>' +
									'<td style="text-align:right;">' + "1359367" + '</td>' +
									'<td>' +'<img style="margin-right: 2px;" src="../../resources/images/icons/amend.png">'+ '</td>' +
									'</tr>';
						});
						htmlTbody.html(htmlTr);
					}
					$yt_baseElement.hideLoading();
				} else {
					$yt_baseElement.hideLoading(function() {
						$yt_alert_Model.prompt("查询失败");
					});
				}

			}, //回调函数 匿名函数返回查询结果  
			isSelPageNum: true //是否显示选择条数列表默认false  

		});
	},
	/**
	 * 其他收入
	 */
	getOtherIncomeList: function() {

		var keyword = $('#keyword').val();
		$('.project-student-page').pageInfo({
			async: true,
			pageIndexs: 1,
			pageNum: 15, //每页显示条数  
			pageSize: 10, //显示...的规律  
			url: $yt_option.base_path + "finance/invoicing/lookForAll", //ajax访问路径  
			type: "post", //ajax访问方式 默认 "post"  
			data: {
				selectParam: keyword
			}, //ajax查询访问参数
			before: function() {
				$yt_baseElement.showLoading();
			},
			objName: 'data', //指获取数据的对象名称  
			success: function(data) {
				if(data.flag == 0) {
					var htmlTbody = $('.project-income-other-tbody');
					var htmlTrSelection = '';
					$(htmlTbody).empty()
					if(data.data.rows.length > 0) {
						$.each(data.data.rows, function(i, v) {
							htmlTrSelection += '<tr>' +
								'<td>' + i + '</td>' +
								'<td><a style="color: #4169E1;">' + "王如冰" + '</a></td>' +
								'<td style="text-align:left">' + "中国和工业集团公司" + '</td>' +
								'<td style="text-align:right;">' + "1359367" + '</td>' +
								'<td style="text-align:right;">' + "98745646" + '</td>' +
								'</tr>';
						});
						if(true) {
							$(".income-hide").show();
							htmlTbody.html(htmlTrSelection);
						} else {
							$(".income-hide").hide();
						}
					}
					$yt_baseElement.hideLoading();
				} else {
					$yt_baseElement.hideLoading(function() {
						$yt_alert_Model.prompt("查询失败");
					});
				}

			}, //回调函数 匿名函数返回查询结果  
			isSelPageNum: true //是否显示选择条数列表默认false  
		});
	},
	/**
	 * 获取项目支出列表数据
	 */
	getExpenditureListInf: function() {
		$yt_baseElement.showLoading();
		$.ajax({
			type: "post",
			url: $yt_option.base_path + "finance/settlement/getExpenditure",
			async: false,
			data: {},
			objName: 'data',
			success: function(data) {
				if(data.flag == 0) {
					var expenseDetails = data.data.expenseDetails;
					var expenseClassDetails = data.data.expenseClassDetails;
					var otherCost = data.data.otherCost;
					var expenseDetailsTbody = $('.expenseDetails-tbody');
					var expenseDetailsTr = '';
					var expenseClassDetailsTbody = $('.expenseClassDetails-tbody');
					var expenseClassDetailsTr = '';
					var otherCostTbody = $('.otherCost-tbody');
					var otherCostTr = '';

					var faresNum = 0;
					var changeFeeRefundNum = 0;
					var expenseMoneyNum = 0;
					$.each(expenseDetails, function(i, v) {
						expenseDetailsTr += '<tr>' +
							'<td>' + v.teacherId + '</td>' +
							'<td>' + v.teacherName + '</td>' +
							'<td>' + v.flighttrainNumber + '</td>' +
							'<td>' + v.placeDeparture + '</td>' +
							'<td>' + v.bourn + '</td>' +
							'<td>' + v.startEndTime + '</td>' +
							'<td>' + v.fares + '</td>' +
							'<td>' + v.changeFeeRefund + '</td>' +
							'<td>' + v.changeFeeRefundDetails + '</td>' +
							'<td>' + v.expenseMoney + '</td>' +
							'</tr>';
						faresNum += v.fares;
						changeFeeRefundNum += v.changeFeeRefund;
						expenseMoneyNum += v.expenseMoney;
					});
					expenseDetailsTr += '<tr>' +
						'<td>合计</td>' +
						'<td></td>' +
						'<td></td>' +
						'<td></td>' +
						'<td></td>' +
						'<td></td>' +
						'<td>' + faresNum + '</td>' +
						'<td></td>' +
						'<td>' + changeFeeRefundNum + '</td>' +
						'<td>' + expenseMoneyNum + '</td>' +
						'</tr>';
					expenseDetailsTbody.html(expenseDetailsTr);
					$yt_baseElement.hideLoading();
					var afterTaxNum = 0;
					var surrenderPersonalNum = 0;
					var expenseMoneyNum = 0;
					$.each(expenseClassDetails, function(i, v) {
						expenseClassDetailsTr += '<tr>' +
							'<td>' + v.teacherId + '</td>' +
							'<td>' + v.teacherName + '</td>' +
							'<td>' + v.papersType + '</td>' +
							'<td>' + v.papersNumber + '</td>' +
							'<td>' + v.registeredBank + '</td>' +
							'<td>' + v.account + '</td>' +
							'<td>' + v.courseDate + '</td>' +
							'<td>' + v.afterTax + '</td>' +
							'<td>' + v.surrenderPersonal + '</td>' +
							'<td>' + v.expenseMoney + '</td>' +
							'</tr>';
						afterTaxNum += v.afterTax;
						surrenderPersonalNum += v.surrenderPersonal;
						expenseMoneyNum += v.expenseMoney;
					});
					expenseClassDetailsTr += '<tr>' +
						'<td>合计</td>' +
						'<td></td>' +
						'<td></td>' +
						'<td></td>' +
						'<td></td>' +
						'<td></td>' +
						'<td></td>' +
						'<td>' + afterTaxNum + '</td>' +
						'<td>' + surrenderPersonalNum + '</td>' +
						'<td>' + expenseMoneyNum + '</td>' +
						'</tr>';
					expenseClassDetailsTbody.html(expenseClassDetailsTr);
					$yt_baseElement.hideLoading();
					var spendMoneyNum = 0;
					$.each(otherCost, function(i, v) {
						otherCostTr += '<tr>' +
							'<td class="costCode">' + v.costCode + '</td>' +
							'<td>' + v.costName + '</td>' +
							'<td style="padding: 0px;"><input type="number" class="spendMoney" style="width: 99%;height: 41px;border-radius: 4px;border:1px solid #ccc;" value="' + v.spendMoney + '" /></td>' +
							'<td style="padding: 0px;"><input class="details" style="width: 99%;height: 41px;border-radius: 4px;border:1px solid #ccc;" value="' + v.details + '" /></td>' +
							'</tr>';
						spendMoneyNum += v.spendMoney;
					});
					otherCostTr += '<tr>' +
						'<td>合计</td>' +
						'<td></td>' +
						'<td style="text-align: left;" class = "spendMoneyTotal">' + spendMoneyNum + '</td>' +
						'<td></td>' +
						'</tr>';
					otherCostTbody.html(otherCostTr);
					$yt_baseElement.hideLoading();
					//其他费用总计
					$("input.spendMoney").blur(function() {
						var firstSpendMoney = 0;
						$("input.spendMoney").each(function(i, n) {
							firstSpendMoney = firstSpendMoney + parseFloat($(n).val());
						});
						$('.spendMoneyTotal').text(firstSpendMoney);
					});
				} else {
					$yt_baseElement.hideLoading(function() {
						$yt_alert_Model.prompt("查询失败");
					});
				}
			}
		});
	}
}
$(function() {
	//初始化方法
	projectDetails.init();

});